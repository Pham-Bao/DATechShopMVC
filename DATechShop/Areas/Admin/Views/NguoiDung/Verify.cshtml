@{
    ViewBag.Title = "Verify OTP";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="container">
    <h2>Xác thực OTP</h2>

    @if (ViewBag.Error != null)
    {
        <div id="errorAlert" class="alert alert-danger">@ViewBag.Error</div>
    }

    @if (ViewBag.Success != null)
    {
        <div id="successAlert" class="alert alert-success">@ViewBag.Success</div>
    }

    @using (Html.BeginForm("Verify", "NguoiDung", FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        <div class="form-group">
            <label for="otpEntered">Enter OTP:</label>
            <input type="text" id="otpEntered" name="otpEntered" class="form-control" required />
            <input type="hidden" id="emailAddress" name="emailAddress" value="@ViewBag.EmailAddress" />
            <input type="hidden" id="otp" name="otp" value="@ViewBag.OTP" />
        </div>

        <button type="submit" class="btn btn-primary">Xác nhận</button>
    }

</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Tự động loại bỏ lớp 'fade-out' sau 5 giây
        setTimeout(function () {
            var errorAlert = document.getElementById('errorAlert');
            var successAlert = document.getElementById('successAlert');
            if (errorAlert) errorAlert.classList.add('fade-out');
            if (successAlert) successAlert.classList.add('fade-out');
        }, 2000); // 5 giây
    });

</script>
<style>
    .fade-out {
        opacity: 0;
        transition: opacity 1s ease-out;
    }

</style>
